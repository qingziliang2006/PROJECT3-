/* ===============================
   City of Strays · stray-story.css
   一体化完整版本
   =============================== */

/* ==== 基础变量 ==== */
:root{
  --bg: #020617;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --accent: #fbbf24;
  --accent-soft:#fed7aa;
  --accent-deep:#f97316;
}

/* ==== 全局 Reset ==== */
*{
  box-sizing:border-box;
  margin:0;
  padding:0;
}

html,body{
  min-height:100%;
  color:var(--text);
  font:16px/1.8 "IBM Plex Sans", system-ui, -apple-system, BlinkMacSystemFont,
       "Segoe UI", Roboto, Arial, sans-serif;
  scroll-behavior:smooth;
}

img{
  max-width:100%;
  height:auto;
  display:block;
  border-radius:18px;
}

a{
  color:var(--accent-soft);
  text-decoration:none;
}
a:hover{
  text-decoration:underline;
}

body{
  background-color:#020617;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  background-attachment:fixed;
}

body.title-screen{
  background-image:
    linear-gradient(145deg, rgba(15,23,42,0.8), rgba(3,7,18,0.96)),
    url("../assets/img/bg-ch1-luna-street.jpg");
}

body.chapter-1{
  background-image:
    radial-gradient(circle at top, rgba(15,23,42,0.85), rgba(0,0,0,0.98)),
    url("../assets/img/bg-ch1-luna-street.jpg");
}

body.chapter-2{
  background-image:
    radial-gradient(circle at top, rgba(15,23,42,0.78), rgba(0,0,0,0.98)),
    url("../assets/img/bg-ch2-clinic.png");
}

body.chapter-3{
  background-image:
    radial-gradient(circle at top, rgba(15,23,42,0.8), rgba(0,0,0,0.98)),
    url("../assets/img/bg-ch3-cityhall.png");
}

body.end-screen{
  background-image:
    radial-gradient(circle at top, rgba(15,23,42,0.9), rgba(0,0,0,0.98)),
    url("../assets/img/bg-ending-cross.png");
}


.site-header{
  position:fixed;
  top:0;left:0;right:0;
  z-index:40;
  background:linear-gradient(to bottom, rgba(3,7,18,0.9), rgba(3,7,18,0));
  backdrop-filter:blur(18px);
}

.nav{
  max-width:1120px;
  margin:0 auto;
  padding:10px 22px 6px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:12px;
  color:var(--muted);
  letter-spacing:.12em;
  text-transform:uppercase;
}

.nav-left{
  display:flex;
  align-items:center;
  gap:10px;
}

.nav-dot{
  width:11px;
  height:11px;
  border-radius:999px;
  background:radial-gradient(circle at 30% 20%, #facc15,#22d3ee);
  box-shadow:0 0 18px rgba(250,204,21,0.85);
}

.nav-left span:last-child{
  font-family:"Space Grotesk", system-ui;
  font-size:11px;
}

.nav-links{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

.nav-links a{
  padding:4px 10px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.35);
  background:rgba(15,23,42,0.5);
  color:var(--muted);
  text-decoration:none;
  transition:
    background .25s ease,
    border-color .25s ease,
    color .25s ease,
    transform .25s ease;
}

.nav-links a:hover{
  background:rgba(15,23,42,0.9);
  border-color:rgba(248,250,252,0.3);
  color:var(--text);
  transform:translateY(-1px);
}

.nav-links a[aria-current="page"]{
  border-color:rgba(250,191,36,0.9);
  color:var(--accent-soft);
}


.shell{
  max-width:1120px;
  margin:0 auto;
  padding:82px 22px 40px;
}



.scene{
  padding:30px 26px 26px;
  margin:0 auto 40px;
  border-radius:26px;
  border:none;
  background:rgba(3,7,18,0.58);             /* 半透明玻璃 */
  backdrop-filter:blur(14px) saturate(1.2);
  box-shadow:0 32px 100px rgba(0,0,0,0.9);
  position:relative;
  overflow:hidden;
  animation:sceneFadeIn .7s ease-out both;
}

.scene::before{
  content:"";
  position:absolute;
  inset:-30%;
  background:
    radial-gradient(circle at 10% 0%, rgba(148,163,184,0.18), transparent 55%),
    radial-gradient(circle at 80% 120%, rgba(250,204,21,0.18), transparent 45%);
  mix-blend-mode:screen;
  opacity:0.6;
  pointer-events:none;
}

.scene-inner{
  position:relative;
  z-index:1;
}

@keyframes sceneFadeIn{
  from{opacity:0;transform:translateY(14px) scale(0.985);}
  to{opacity:1;transform:translateY(0) scale(1);}
}



.scene-label{
  font-size:11px;
  letter-spacing:.3em;
  text-transform:uppercase;
  color:var(--accent-soft);
  margin-bottom:8px;
  display:flex;
  align-items:center;
  gap:8px;
  opacity:0.9;
}

.scene-label::before{
  content:"chapter";
  font-family:"Space Grotesk", system-ui;
  font-size:9px;
  letter-spacing:.22em;
  text-transform:uppercase;
  opacity:0.6;
}

.scene-title{
  font-family:"Playfair Display", "Times New Roman", serif;
  font-size:30px;
  letter-spacing:.04em;
  margin-bottom:6px;
}

.scene-sub{
  font-size:14px;
  color:var(--muted);
  max-width:640px;
  margin-bottom:18px;
  font-style:italic;
}


.story-text{
  font-size:15px;
  max-width:640px;
}

.story-text p{
  margin-bottom:10px;
}

.story-line{
  margin-bottom:6px;
}


.hero-grid{
  display:grid;
  gap:26px;
  grid-template-columns:minmax(0,1.2fr) minmax(0,1fr);
  align-items:center;
}

@media(max-width:900px){
  .hero-grid{
    grid-template-columns:1fr;
  }
}

.hero-text p{
  margin-bottom:8px;
}

.hero-image-wrap{
  position:relative;
  border-radius:22px;
  overflow:hidden;
  border:none;
  box-shadow:0 30px 80px rgba(0,0,0,0.9);
}

.hero-image-wrap::after{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(circle at top, transparent, rgba(3,7,18,0.55));
  mix-blend-mode:multiply;
}

.hero-tag{
  position:absolute;
  left:14px;
  bottom:14px;
  padding:4px 11px;
  border-radius:999px;
  background:rgba(3,7,18,0.9);
  border:1px solid rgba(148,163,184,0.5);
  font-size:11px;
  color:var(--muted);
  backdrop-filter:blur(8px);
}



.choice-block{
  margin-top:26px;
  padding:16px 16px 14px;
  border-radius:20px;
  background:rgba(15,23,42,0.6);
  backdrop-filter:blur(12px);
  border:none;
  box-shadow:0 18px 60px rgba(0,0,0,0.7);
}

.choice-title{
  font-size:14px;
  font-weight:600;
  margin-bottom:6px;
}

.choice-hint{
  font-size:12px;
  color:var(--muted);
  margin-bottom:10px;
}

.choice-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.choice-btn{
  padding:7px 13px;
  border-radius:999px;
  border:none;
  background:rgba(15,23,42,0.9);
  color:#e5e7eb;
  font-size:13px;
  cursor:pointer;
  transition:
    transform .28s cubic-bezier(.19,1,.22,1),
    box-shadow .28s cubic-bezier(.19,1,.22,1),
    background .25s ease,
    color .25s ease;
  text-decoration:none;
}

.choice-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 20px 40px rgba(0,0,0,0.85);
  background:radial-gradient(circle at top left,
            rgba(250,204,21,0.42), rgba(15,23,42,0.98));
}

.choice-btn.is-link{
  display:inline-flex;
  align-items:center;
  justify-content:center;
}



.data-layout{
  display:grid;
  gap:22px;
  grid-template-columns:minmax(0,1.35fr) minmax(0,0.95fr);
  margin-bottom:10px;
}

@media(max-width:900px){
  .data-layout{
    grid-template-columns:1fr;
  }
}

.data-panel{
  background:rgba(3,7,18,0.58);
  backdrop-filter:blur(12px);
  border-radius:18px;
  border:none;
  padding:14px 14px 12px;
  font-size:13px;
  box-shadow:0 22px 70px rgba(0,0,0,0.8);
}

.data-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
  font-size:10px;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:.18em;
}

.data-dot{
  width:9px;
  height:9px;
  border-radius:999px;
  background:radial-gradient(circle at 30% 20%, #facc15,#22c55e);
  box-shadow:0 0 12px rgba(250,204,21,0.85);
}

.chart-grid{
  margin-top:8px;
  display:grid;
  gap:4px;
  font-size:12px;
}

.chart-row{
  display:grid;
  grid-template-columns:96px repeat(4,1fr);
  align-items:center;
  gap:6px;
}

.chart-row span:first-child{
  font-family:"Space Grotesk", system-ui;
  font-size:11px;
}

.chart-header span{
  font-weight:700;
  text-transform:uppercase;
  font-size:10px;
  color:var(--muted);
}

/* 条形图 bar */
.level{
  display:block;
  width:100%;
  height:11px;
  border-radius:999px;
  background:rgba(15,23,42,0.9);
  position:relative;
  overflow:hidden;
  box-shadow:inset 0 0 0 1px rgba(15,23,42,0.8);
}

.level::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  transform-origin:left;
  background:linear-gradient(90deg, rgba(56,189,248,0.25), rgba(250,204,21,0.95));
}

.level.low::after{transform:scaleX(0.25);}
.level.mid::after{transform:scaleX(0.6);}
.level.high::after{transform:scaleX(1);}

.data-note{
  margin-top:8px;
  font-size:11px;
  color:var(--muted);
  opacity:0.9;
  font-style:italic;
}



.oh-grid{
  margin-top:16px;
  display:grid;
  gap:10px;
  grid-template-columns:repeat(3,minmax(0,1fr));
}

@media(max-width:900px){
  .oh-grid{
    grid-template-columns:1fr;
  }
}

.oh-card{
  border-radius:16px;
  border:none;
  background:rgba(15,23,42,0.6);
  backdrop-filter:blur(10px);
  padding:12px 14px;
  font-size:13px;
  box-shadow:0 14px 40px rgba(0,0,0,0.8);
}

.oh-card h3{
  font-size:13px;
  letter-spacing:.16em;
  text-transform:uppercase;
  margin-bottom:6px;
  color:var(--accent-soft);
}



.law-block{
  margin-top:20px;
  border-radius:18px;
  border:none;
  background:rgba(3,7,18,0.62);
  backdrop-filter:blur(12px);
  padding:14px 14px 12px;
  box-shadow:0 20px 60px rgba(0,0,0,0.85);
}

.law-question{
  font-size:14px;
  font-weight:600;
  margin-bottom:8px;
}

.law-option{
  display:flex;
  gap:8px;
  align-items:flex-start;
  font-size:13px;
  color:#e5e7eb;
  margin-bottom:6px;
}

.law-option input{
  margin-top:3px;
  accent-color:var(--accent-deep);
}

.law-btn{
  margin-top:10px;
  padding:8px 15px;
  border-radius:999px;
  border:none;
  background:radial-gradient(circle at 0 0,
              rgba(250,204,21,0.45), rgba(30,64,175,0.9));
  font-size:13px;
  color:var(--text);
  cursor:pointer;
  transition:
    transform .28s cubic-bezier(.19,1,.22,1),
    box-shadow .28s cubic-bezier(.19,1,.22,1),
    background .25s ease;
}

.law-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 22px 60px rgba(0,0,0,0.9);
}

.law-summary{
  margin-top:12px;
  border-radius:14px;
  border:none;
  background:rgba(15,23,42,0.62);
  backdrop-filter:blur(10px);
  padding:10px 12px;
  font-size:13px;
}

.law-summary h4{
  margin-bottom:4px;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.18em;
  color:var(--muted);
}

.footer{
  max-width:1120px;
  margin:0 auto;
  padding:12px 22px 24px;
  font-size:11px;
  color:var(--muted);
  opacity:0.9;
  letter-spacing:.12em;
  text-transform:uppercase;
}



.title-hero{
  min-height:60vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:18px;
}

.title-kicker{
  font-size:11px;
  letter-spacing:.3em;
  text-transform:uppercase;
  color:var(--accent-soft);
}

.title-main{
  font-family:"Playfair Display","Times New Roman",serif;
  font-size:40px;
  max-width:560px;
}

.title-sub{
  font-size:14px;
  color:var(--muted);
  max-width:520px;
}

.title-actions{
  margin-top:10px;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.title-btn-primary{
  padding:9px 16px;
  border-radius:999px;
  border:none;
  background:radial-gradient(circle at 0 0,
        rgba(250,204,21,0.6), rgba(30,64,175,0.9));
  font-size:13px;
  color:var(--text);
  text-decoration:none;
  cursor:pointer;
  transition:transform .25s ease, box-shadow .25s ease;
}

.title-btn-primary:hover{
  transform:translateY(-2px);
  box-shadow:0 22px 60px rgba(0,0,0,0.9);
}

.title-btn-ghost{
  padding:9px 14px;
  border-radius:999px;
  border:none;
  background:rgba(15,23,42,0.7);
  font-size:13px;
  color:var(--muted);
  text-decoration:none;
}

.title-meta{
  margin-top:20px;
  font-size:11px;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:.16em;
}
